<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>    

<body>
<form id="orderForm">
    姓名：<input type="text" name="customer_name" id="customer_name"><br>
    <button type="button" onclick="submitOrder()">送出訂單</button>
</form>

<script>
const cart = [
    { product_name: "蘋果", quantity: 2, price: 30 },
    { product_name: "香蕉", quantity: 3, price: 20 }
];

function submitOrder() {
    const customer_name = document.getElementById('customer_name').value;

    fetch('save_order.php', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            customer_name: customer_name,
            cart: cart
        })
    })
    .then(res => res.json())
    .then(data => {
        alert(data.message);
    })
    .catch(err => {
        console.error('錯誤:', err);
    });
}
</script>

</body>
</html>
